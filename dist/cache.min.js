!function (e) {
	if ("object" == typeof exports)module.exports = e(); else
		if ("function" == typeof define && define.amd)define(e); else {
			var t;
			"undefined" != typeof window ? t = window : "undefined" != typeof global ? t = global : "undefined" != typeof self && (t = self), t.Cache = e()
		}
}(function () {
	return function e (t, n, r) {
		function i (o, u) {
			if (!n[o]) {
				if (!t[o]) {
					var a = "function" == typeof require && require;
					if (!u && a)return a(o, !0);
					if (s)return s(o, !0);
					throw new Error("Cannot find module '" + o + "'")
				}
				var l = n[o] = {exports: {}};
				t[o][0].call(l.exports, function (e) {
					var n = t[o][1][e];
					return i(n ? n : e)
				}, l, l.exports, e, t, n, r)
			}
			return n[o].exports
		}

		for (var s = "function" == typeof require && require, o = 0; o < r.length; o++)i(r[o]);
		return i
	}({
		1: [function (e, t) {
			function n () {this._cache = {}, this._subscriptions = [], this._modelRegistry = {}}

			var r = e("asap"), i = e("util"), s = e("i")(), o = e("./subscription"), u = e("./models"), a = e("./collection");
			n.prototype = {
				subscribe: function (e, t) {
					var n = new o(e, t), i = this;
					if (this._subscriptions.push(n), t) {
						var s = this.getModelById(e, t);
						s && r(function () {n.emit("data", s)})
					} else this.getCollectionLength(e) > 0 && r(function () {n.emit("data", i.getCollection(e))});
					return r(function () {n.emit("subscribersNotified")}), n
				},
				fill: function (e, t) {
					var n = [];
					Array.isArray(e) || (e = [e]), e.forEach(function (e) {
						var t = s.pluralize(e.type), r = this.getModelById(t, e.id);
						if (r)return n.push(r), r.setData(e);
						var i = this._createModel(e);
						this.getCollection(t) || (this._cache[t] = new a), this.getCollection(t).push(i), n.push(i)
					}, this), this._callSubscribers(n), t && r(t)
				},
				getCollection: function (e) {return this._cache[e] ? this._cache[e] : null},
				getCollectionLength: function (e) {return this.getCollection(e) ? this.getCollection(e).getLength() : 0},
				getModelById: function (e, t) {return this.getCollection(e) ? this.getCollection(e).getModelById(t) : null},
				_callSubscribers: function (e) {
					var t = {};
					this._subscriptions.forEach(function (n) {
						if (n)for (var r = 0; r < e.length; r++) {
							var i = s.pluralize(e[r].type);
							if (n.collectionName === i) {
								if (t[i] || (t[i] = []), !n.id) {
									t[i].push(n);
									break
								}
								if (n.id === e[r].id) {
									n.emit("data", e[r]);
									break
								}
							}
						}
					});
					for (var n in t) {
						var r = t[n];
						r.forEach(function (e) {e.emit("data", this._cache[n])}, this)
					}
				},
				_callCollectionSubscribers: function (e) {this._subscriptions.forEach(function (t) {t && !t.id && t.collectionName === e && t.emit("data", this._cache[e])}, this)},
				registerModel: function (e, t) {
					if (this._modelRegistry[e])throw"model already exists";
					i.inherits(t, u.AppModel), this._modelRegistry[e] = t
				},
				unregisterModel: function (e) {this._modelRegistry[e] && (this._modelRegistry[e] = null)},
				_createModel: function (e) {
					if (this._modelRegistry[e.type]) {
						var t = new this._modelRegistry[e.type];
						return u.AppModel.call(t, e), t
					}
					var t = new u.BasicModel;
					return u.AppModel.call(t, e), t
				}
			}, t.exports = n
		}, {"./collection": 2, "./models": 3, "./subscription": 16, asap: 4, i: 11, util: 9}],
		2: [function (e, t) {
			function n () {this._data = []}

			n.prototype = {
				push: function (e) {this._data.push(e)},
				getModelById: function (e) {
					for (var t = 0; t < this._data.length; t++)if (e === this._data[t].id)return this._data[t];
					return null
				},
				getLength: function () {return this._data.length}
			}, t.exports = n
		}, {}],
		3: [function (e, t) {
			function n (e) {this.setData(e)}

			function r () {}

			var i = e("util");
			n.prototype = {setData: function (e) {for (var t in e)this[t] = e[t]}}, i.inherits(r, n), t.exports.AppModel = n, t.exports.BasicModel = r
		}, {util: 9}],
		4: [function (e, t) {
			(function (e) {
				function n () {
					for (; i.next;) {
						i = i.next;
						var e = i.task;
						i.task = void 0;
						var t = i.domain;
						t && (i.domain = void 0, t.enter());
						try {
							e()
						} catch (r) {
							if (a)throw t && t.exit(), setTimeout(n, 0), t && t.enter(), r;
							setTimeout(function () {throw r}, 0)
						}
						t && t.exit()
					}
					o = !1
				}

				function r (t) {s = s.next = {task: t, domain: a && e.domain, next: null}, o || (o = !0, u())}

				var i = {task: void 0, next: null}, s = i, o = !1, u = void 0, a = !1;
				if ("undefined" != typeof e && e.nextTick)a = !0, u = function () {e.nextTick(n)}; else
					if ("function" == typeof setImmediate)u = "undefined" != typeof window ? setImmediate.bind(window, n) : function () {setImmediate(n)}; else
						if ("undefined" != typeof MessageChannel) {
							var l = new MessageChannel;
							l.port1.onmessage = n, u = function () {l.port2.postMessage(0)}
						} else u = function () {setTimeout(n, 0)};
				t.exports = r
			}).call(this, e("IrXUsu"))
		}, {IrXUsu: 7}],
		5: [function (e, t) {
			function n () {this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0}

			function r (e) {return "function" == typeof e}

			function i (e) {return "number" == typeof e}

			function s (e) {return "object" == typeof e && null !== e}

			function o (e) {return void 0 === e}

			t.exports = n, n.EventEmitter = n, n.prototype._events = void 0, n.prototype._maxListeners = void 0, n.defaultMaxListeners = 10, n.prototype.setMaxListeners = function (e) {
				if (!i(e) || 0 > e || isNaN(e))throw TypeError("n must be a positive number");
				return this._maxListeners = e, this
			}, n.prototype.emit = function (e) {
				var t, n, i, u, a, l;
				if (this._events || (this._events = {}), "error" === e && (!this._events.error || s(this._events.error) && !this._events.error.length))throw t = arguments[1], t instanceof Error ? t : TypeError('Uncaught, unspecified "error" event.');
				if (n = this._events[e], o(n))return !1;
				if (r(n))switch (arguments.length) {
					case 1:
						n.call(this);
						break;
					case 2:
						n.call(this, arguments[1]);
						break;
					case 3:
						n.call(this, arguments[1], arguments[2]);
						break;
					default:
						for (i = arguments.length, u = new Array(i - 1), a = 1; i > a; a++)u[a - 1] = arguments[a];
						n.apply(this, u)
				} else
					if (s(n)) {
						for (i = arguments.length, u = new Array(i - 1), a = 1; i > a; a++)u[a - 1] = arguments[a];
						for (l = n.slice(), i = l.length, a = 0; i > a; a++)l[a].apply(this, u)
					}
				return !0
			}, n.prototype.addListener = function (e, t) {
				var i;
				if (!r(t))throw TypeError("listener must be a function");
				if (this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e, r(t.listener) ? t.listener : t), this._events[e] ? s(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t, s(this._events[e]) && !this._events[e].warned) {
					var i;
					i = o(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners, i && i > 0 && this._events[e].length > i && (this._events[e].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length), "function" == typeof console.trace && console.trace())
				}
				return this
			}, n.prototype.on = n.prototype.addListener, n.prototype.once = function (e, t) {
				function n () {this.removeListener(e, n), i || (i = !0, t.apply(this, arguments))}

				if (!r(t))throw TypeError("listener must be a function");
				var i = !1;
				return n.listener = t, this.on(e, n), this
			}, n.prototype.removeListener = function (e, t) {
				var n, i, o, u;
				if (!r(t))throw TypeError("listener must be a function");
				if (!this._events || !this._events[e])return this;
				if (n = this._events[e], o = n.length, i = -1, n === t || r(n.listener) && n.listener === t)delete this._events[e], this._events.removeListener && this.emit("removeListener", e, t); else
					if (s(n)) {
						for (u = o; u-- > 0;)if (n[u] === t || n[u].listener && n[u].listener === t) {
							i = u;
							break
						}
						if (0 > i)return this;
						1 === n.length ? (n.length = 0, delete this._events[e]) : n.splice(i, 1), this._events.removeListener && this.emit("removeListener", e, t)
					}
				return this
			}, n.prototype.removeAllListeners = function (e) {
				var t, n;
				if (!this._events)return this;
				if (!this._events.removeListener)return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e], this;
				if (0 === arguments.length) {
					for (t in this._events)"removeListener" !== t && this.removeAllListeners(t);
					return this.removeAllListeners("removeListener"), this._events = {}, this
				}
				if (n = this._events[e], r(n))this.removeListener(e, n); else for (; n.length;)this.removeListener(e, n[n.length - 1]);
				return delete this._events[e], this
			}, n.prototype.listeners = function (e) {
				var t;
				return t = this._events && this._events[e] ? r(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
			}, n.listenerCount = function (e, t) {
				var n;
				return n = e._events && e._events[t] ? r(e._events[t]) ? 1 : e._events[t].length : 0
			}
		}, {}],
		6: [function (e, t) {
			t.exports = "function" == typeof Object.create ? function (e, t) {
				e.super_ = t, e.prototype = Object.create(t.prototype, {
					constructor: {
						value: e,
						enumerable: !1,
						writable: !0,
						configurable: !0
					}
				})
			} : function (e, t) {
				e.super_ = t;
				var n = function () {};
				n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e
			}
		}, {}],
		7: [function (e, t) {
			function n () {}

			var r = t.exports = {};
			r.nextTick = function () {
				var e = "undefined" != typeof window && window.setImmediate, t = "undefined" != typeof window && window.postMessage && window.addEventListener;
				if (e)return function (e) {return window.setImmediate(e)};
				if (t) {
					var n = [];
					return window.addEventListener("message", function (e) {
						var t = e.source;
						if ((t === window || null === t) && "process-tick" === e.data && (e.stopPropagation(), n.length > 0)) {
							var r = n.shift();
							r()
						}
					}, !0), function (e) {n.push(e), window.postMessage("process-tick", "*")}
				}
				return function (e) {setTimeout(e, 0)}
			}(), r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.on = n, r.addListener = n, r.once = n, r.off = n, r.removeListener = n, r.removeAllListeners = n, r.emit = n, r.binding = function () {throw new Error("process.binding is not supported")}, r.cwd = function () {return "/"}, r.chdir = function () {throw new Error("process.chdir is not supported")}
		}, {}],
		8: [function (e, t) {t.exports = function (e) {return e && "object" == typeof e && "function" == typeof e.copy && "function" == typeof e.fill && "function" == typeof e.readUInt8}}, {}],
		9: [function (e, t, n) {
			(function (t, r) {
				function i (e, t) {
					var r = {seen: [], stylize: o};
					return arguments.length >= 3 && (r.depth = arguments[2]), arguments.length >= 4 && (r.colors = arguments[3]), d(t) ? r.showHidden = t : t && n._extend(r, t), w(r.showHidden) && (r.showHidden = !1), w(r.depth) && (r.depth = 2), w(r.colors) && (r.colors = !1), w(r.customInspect) && (r.customInspect = !0), r.colors && (r.stylize = s), a(r, e, r.depth)
				}

				function s (e, t) {
					var n = i.styles[t];
					return n ? "[" + i.colors[n][0] + "m" + e + "[" + i.colors[n][1] + "m" : e
				}

				function o (e) {return e}

				function u (e) {
					var t = {};
					return e.forEach(function (e) {t[e] = !0}), t
				}

				function a (e, t, r) {
					if (e.customInspect && t && C(t.inspect) && t.inspect !== n.inspect && (!t.constructor || t.constructor.prototype !== t)) {
						var i = t.inspect(r, e);
						return b(i) || (i = a(e, i, r)), i
					}
					var s = l(e, t);
					if (s)return s;
					var o = Object.keys(t), d = u(o);
					if (e.showHidden && (o = Object.getOwnPropertyNames(t)), z(t) && (o.indexOf("message") >= 0 || o.indexOf("description") >= 0))return c(t);
					if (0 === o.length) {
						if (C(t)) {
							var v = t.name ? ": " + t.name : "";
							return e.stylize("[Function" + v + "]", "special")
						}
						if ($(t))return e.stylize(RegExp.prototype.toString.call(t), "regexp");
						if (L(t))return e.stylize(Date.prototype.toString.call(t), "date");
						if (z(t))return c(t)
					}
					var m = "", y = !1, _ = ["{", "}"];
					if (g(t) && (y = !0, _ = ["[", "]"]), C(t)) {
						var w = t.name ? ": " + t.name : "";
						m = " [Function" + w + "]"
					}
					if ($(t) && (m = " " + RegExp.prototype.toString.call(t)), L(t) && (m = " " + Date.prototype.toUTCString.call(t)), z(t) && (m = " " + c(t)), 0 === o.length && (!y || 0 == t.length))return _[0] + m + _[1];
					if (0 > r)return $(t) ? e.stylize(RegExp.prototype.toString.call(t), "regexp") : e.stylize("[Object]", "special");
					e.seen.push(t);
					var x;
					return x = y ? f(e, t, r, d, o) : o.map(function (n) {return p(e, t, r, d, n, y)}), e.seen.pop(), h(x, m, _)
				}

				function l (e, t) {
					if (w(t))return e.stylize("undefined", "undefined");
					if (b(t)) {
						var n = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
						return e.stylize(n, "string")
					}
					return y(t) ? e.stylize("" + t, "number") : d(t) ? e.stylize("" + t, "boolean") : v(t) ? e.stylize("null", "null") : void 0
				}

				function c (e) {return "[" + Error.prototype.toString.call(e) + "]"}

				function f (e, t, n, r, i) {
					for (var s = [], o = 0, u = t.length; u > o; ++o)s.push(j(t, String(o)) ? p(e, t, n, r, String(o), !0) : "");
					return i.forEach(function (i) {i.match(/^\d+$/) || s.push(p(e, t, n, r, i, !0))}), s
				}

				function p (e, t, n, r, i, s) {
					var o, u, l;
					if (l = Object.getOwnPropertyDescriptor(t, i) || {value: t[i]}, l.get ? u = l.set ? e.stylize("[Getter/Setter]", "special") : e.stylize("[Getter]", "special") : l.set && (u = e.stylize("[Setter]", "special")), j(r, i) || (o = "[" + i + "]"), u || (e.seen.indexOf(l.value) < 0 ? (u = v(n) ? a(e, l.value, null) : a(e, l.value, n - 1), u.indexOf("\n") > -1 && (u = s ? u.split("\n").map(function (e) {return "  " + e}).join("\n").substr(2) : "\n" + u.split("\n").map(function (e) {return "   " + e}).join("\n"))) : u = e.stylize("[Circular]", "special")), w(o)) {
						if (s && i.match(/^\d+$/))return u;
						o = JSON.stringify("" + i), o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (o = o.substr(1, o.length - 2), o = e.stylize(o, "name")) : (o = o.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), o = e.stylize(o, "string"))
					}
					return o + ": " + u
				}

				function h (e, t, n) {
					var r = 0, i = e.reduce(function (e, t) {return r++, t.indexOf("\n") >= 0 && r++, e + t.replace(/\u001b\[\d\d?m/g, "").length + 1}, 0);
					return i > 60 ? n[0] + ("" === t ? "" : t + "\n ") + " " + e.join(",\n  ") + " " + n[1] : n[0] + t + " " + e.join(", ") + " " + n[1]
				}

				function g (e) {return Array.isArray(e)}

				function d (e) {return "boolean" == typeof e}

				function v (e) {return null === e}

				function m (e) {return null == e}

				function y (e) {return "number" == typeof e}

				function b (e) {return "string" == typeof e}

				function _ (e) {return "symbol" == typeof e}

				function w (e) {return void 0 === e}

				function $ (e) {return x(e) && "[object RegExp]" === O(e)}

				function x (e) {return "object" == typeof e && null !== e}

				function L (e) {return x(e) && "[object Date]" === O(e)}

				function z (e) {return x(e) && ("[object Error]" === O(e) || e instanceof Error)}

				function C (e) {return "function" == typeof e}

				function E (e) {return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || "undefined" == typeof e}

				function O (e) {return Object.prototype.toString.call(e)}

				function S (e) {return 10 > e ? "0" + e.toString(10) : e.toString(10)}

				function M () {
					var e = new Date, t = [S(e.getHours()), S(e.getMinutes()), S(e.getSeconds())].join(":");
					return [e.getDate(), k[e.getMonth()], t].join(" ")
				}

				function j (e, t) {return Object.prototype.hasOwnProperty.call(e, t)}

				var A = /%[sdj%]/g;
				n.format = function (e) {
					if (!b(e)) {
						for (var t = [], n = 0; n < arguments.length; n++)t.push(i(arguments[n]));
						return t.join(" ")
					}
					for (var n = 1, r = arguments, s = r.length, o = String(e).replace(A, function (e) {
						if ("%%" === e)return "%";
						if (n >= s)return e;
						switch (e) {
							case"%s":
								return String(r[n++]);
							case"%d":
								return Number(r[n++]);
							case"%j":
								try {
									return JSON.stringify(r[n++])
								} catch (t) {
									return "[Circular]"
								}
							default:
								return e
						}
					}), u = r[n]; s > n; u = r[++n])o += v(u) || !x(u) ? " " + u : " " + i(u);
					return o
				}, n.deprecate = function (e, i) {
					function s () {
						if (!o) {
							if (t.throwDeprecation)throw new Error(i);
							t.traceDeprecation ? console.trace(i) : console.error(i), o = !0
						}
						return e.apply(this, arguments)
					}

					if (w(r.process))return function () {return n.deprecate(e, i).apply(this, arguments)};
					if (t.noDeprecation === !0)return e;
					var o = !1;
					return s
				};
				var U, R = {};
				n.debuglog = function (e) {
					if (w(U) && (U = t.env.NODE_DEBUG || ""), e = e.toUpperCase(), !R[e])if (new RegExp("\\b" + e + "\\b", "i").test(U)) {
						var r = t.pid;
						R[e] = function () {
							var t = n.format.apply(n, arguments);
							console.error("%s %d: %s", e, r, t)
						}
					} else R[e] = function () {};
					return R[e]
				}, n.inspect = i, i.colors = {
					bold: [1, 22],
					italic: [3, 23],
					underline: [4, 24],
					inverse: [7, 27],
					white: [37, 39],
					grey: [90, 39],
					black: [30, 39],
					blue: [34, 39],
					cyan: [36, 39],
					green: [32, 39],
					magenta: [35, 39],
					red: [31, 39],
					yellow: [33, 39]
				}, i.styles = {
					special: "cyan",
					number: "yellow",
					"boolean": "yellow",
					undefined: "grey",
					"null": "bold",
					string: "green",
					date: "magenta",
					regexp: "red"
				}, n.isArray = g, n.isBoolean = d, n.isNull = v, n.isNullOrUndefined = m, n.isNumber = y, n.isString = b, n.isSymbol = _, n.isUndefined = w, n.isRegExp = $, n.isObject = x, n.isDate = L, n.isError = z, n.isFunction = C, n.isPrimitive = E, n.isBuffer = e("./support/isBuffer");
				var k = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
				n.log = function () {console.log("%s - %s", M(), n.format.apply(n, arguments))}, n.inherits = e("inherits"), n._extend = function (e, t) {
					if (!t || !x(t))return e;
					for (var n = Object.keys(t), r = n.length; r--;)e[n[r]] = t[n[r]];
					return e
				}
			}).call(this, e("IrXUsu"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
		}, {"./support/isBuffer": 8, IrXUsu: 7, inherits: 6}],
		10: [function (e, t) {t.exports = function (e) {e.plural(/$/, "s"), e.plural(/s$/i, "s"), e.plural(/(ax|test)is$/i, "$1es"), e.plural(/(octop|vir)us$/i, "$1i"), e.plural(/(octop|vir)i$/i, "$1i"), e.plural(/(alias|status)$/i, "$1es"), e.plural(/(bu)s$/i, "$1ses"), e.plural(/(buffal|tomat)o$/i, "$1oes"), e.plural(/([ti])um$/i, "$1a"), e.plural(/([ti])a$/i, "$1a"), e.plural(/sis$/i, "ses"), e.plural(/(?:([^f])fe|([lr])f)$/i, "$1ves"), e.plural(/(hive)$/i, "$1s"), e.plural(/([^aeiouy]|qu)y$/i, "$1ies"), e.plural(/(x|ch|ss|sh)$/i, "$1es"), e.plural(/(matr|vert|ind)(?:ix|ex)$/i, "$1ices"), e.plural(/([m|l])ouse$/i, "$1ice"), e.plural(/([m|l])ice$/i, "$1ice"), e.plural(/^(ox)$/i, "$1en"), e.plural(/^(oxen)$/i, "$1"), e.plural(/(quiz)$/i, "$1zes"), e.singular(/s$/i, ""), e.singular(/(n)ews$/i, "$1ews"), e.singular(/([ti])a$/i, "$1um"), e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i, "$1sis"), e.singular(/(^analy)ses$/i, "$1sis"), e.singular(/([^f])ves$/i, "$1fe"), e.singular(/(hive)s$/i, "$1"), e.singular(/(tive)s$/i, "$1"), e.singular(/([lr])ves$/i, "$1f"), e.singular(/([^aeiouy]|qu)ies$/i, "$1y"), e.singular(/(s)eries$/i, "$1eries"), e.singular(/(m)ovies$/i, "$1ovie"), e.singular(/(x|ch|ss|sh)es$/i, "$1"), e.singular(/([m|l])ice$/i, "$1ouse"), e.singular(/(bus)es$/i, "$1"), e.singular(/(o)es$/i, "$1"), e.singular(/(shoe)s$/i, "$1"), e.singular(/(cris|ax|test)es$/i, "$1is"), e.singular(/(octop|vir)i$/i, "$1us"), e.singular(/(alias|status)es$/i, "$1"), e.singular(/^(ox)en/i, "$1"), e.singular(/(vert|ind)ices$/i, "$1ex"), e.singular(/(matr)ices$/i, "$1ix"), e.singular(/(quiz)zes$/i, "$1"), e.singular(/(database)s$/i, "$1"), e.irregular("child", "children"), e.irregular("person", "people"), e.irregular("man", "men"), e.irregular("child", "children"), e.irregular("sex", "sexes"), e.irregular("move", "moves"), e.irregular("cow", "kine"), e.irregular("zombie", "zombies"), e.uncountable(["equipment", "information", "rice", "money", "species", "series", "fish", "sheep", "jeans"])}}, {}],
		11: [function (e, t) {
			t.exports = function (t) {
				var n = e("./methods");
				return t && e("./native")(n), n
			}
		}, {"./methods": 13, "./native": 14}],
		12: [function (e, t) {
			var n = e("./util"), r = function () {return this.plurals = [], this.singulars = [], this.uncountables = [], this.humans = [], e("./defaults")(this), this};
			r.prototype.plural = function (e, t) {"string" == typeof e && (this.uncountables = n.array.del(this.uncountables, e)), this.uncountables = n.array.del(this.uncountables, t), this.plurals.unshift([e, t])}, r.prototype.singular = function (e, t) {"string" == typeof e && (this.uncountables = n.array.del(this.uncountables, e)), this.uncountables = n.array.del(this.uncountables, t), this.singulars.unshift([e, t])}, r.prototype.irregular = function (e, t) {this.uncountables = n.array.del(this.uncountables, e), this.uncountables = n.array.del(this.uncountables, t), e[0].toUpperCase() == t[0].toUpperCase() ? (this.plural(new RegExp("(" + e[0] + ")" + e.slice(1) + "$", "i"), "$1" + t.slice(1)), this.plural(new RegExp("(" + t[0] + ")" + t.slice(1) + "$", "i"), "$1" + t.slice(1)), this.singular(new RegExp("(" + t[0] + ")" + t.slice(1) + "$", "i"), "$1" + e.slice(1))) : (this.plural(new RegExp("" + e[0].toUpperCase() + e.slice(1) + "$"), t[0].toUpperCase() + t.slice(1)), this.plural(new RegExp("" + e[0].toLowerCase() + e.slice(1) + "$"), t[0].toLowerCase() + t.slice(1)), this.plural(new RegExp("" + t[0].toUpperCase() + t.slice(1) + "$"), t[0].toUpperCase() + t.slice(1)), this.plural(new RegExp("" + t[0].toLowerCase() + t.slice(1) + "$"), t[0].toLowerCase() + t.slice(1)), this.singular(new RegExp("" + t[0].toUpperCase() + t.slice(1) + "$"), e[0].toUpperCase() + e.slice(1)), this.singular(new RegExp("" + t[0].toLowerCase() + t.slice(1) + "$"), e[0].toLowerCase() + e.slice(1)))}, r.prototype.human = function (e, t) {this.humans.unshift([e, t])}, r.prototype.uncountable = function (e) {this.uncountables = this.uncountables.concat(e)}, r.prototype.clear = function (e) {
				switch (null == e && (e = "all"), e) {
					case"all":
						this.plurals = [], this.singulars = [], this.uncountables = [], this.humans = [];
					default:
						this[e] = []
				}
			}, r.prototype.default = function () {return this.plurals = [], this.singulars = [], this.uncountables = [], this.humans = [], e("./defaults")(this), this}, t.exports = new r
		}, {"./defaults": 10, "./util": 15}],
		13: [function (e, t) {
			var n = e("./util"), r = t.exports;
			r.inflections = e("./inflections"), r.inflect = function (e) {e(r.inflections)}, r.camelize = function (e, t) {
				var r;
				return null == t && (t = !0), r = n.string.gsub(e, /\/(.?)/, function (e) {return "." + n.string.upcase(e[1])}), r = n.string.gsub(r, /(?:_)(.)/, function (e) {return n.string.upcase(e[1])}), t ? n.string.upcase(r) : n.string.downcase(r)
			}, r.underscore = function (e) {
				var t;
				return t = n.string.gsub(e, /\./, "/"), t = n.string.gsub(t, /([A-Z]+)([A-Z][a-z])/, "$1_$2"), t = n.string.gsub(t, /([a-z\d])([A-Z])/, "$1_$2"), t = n.string.gsub(t, /-/, "_"), t.toLowerCase()
			}, r.dasherize = function (e) {return n.string.gsub(e, /_/, "-")}, r.demodulize = function (e) {return n.string.gsub(e, /^.*\./, "")}, r.foreign_key = function (e, t) {return null == t && (t = !0), r.underscore(r.demodulize(e)) + (t ? "_id" : "id")}, r.ordinalize = function (e) {
				var t;
				if (e = parseInt(e), 11 === (t = Math.abs(e) % 100) || 12 === t || 13 === t)return "" + e + "th";
				switch (Math.abs(e) % 10) {
					case 1:
						return "" + e + "st";
					case 2:
						return "" + e + "nd";
					case 3:
						return "" + e + "rd";
					default:
						return "" + e + "th"
				}
			}, r.uncountability = function (e) {return r.inflections.uncountables.some(function (t) {return null != e.match(new RegExp("(\\b|_)" + t + "$", "i"))})}, r.pluralize = function (e) {
				var t, i;
				if (i = e, "" === e || r.uncountability(e))return i;
				for (var s = 0; s < r.inflections.plurals.length && (t = r.inflections.plurals[s], i = n.string.gsub(i, t[0], t[1]), null == e.match(t[0])); s++);
				return i
			}, r.singularize = function (e) {
				var t, i;
				if (t = e, "" === e || r.uncountability(e))return t;
				for (var s = 0; s < r.inflections.singulars.length && (i = r.inflections.singulars[s], t = n.string.gsub(t, i[0], i[1]), !e.match(i[0])); s++);
				return t
			}, r.humanize = function (e) {
				var t, i;
				i = e;
				for (var s = 0; s < r.inflections.humans.length; s++)t = r.inflections.humans[s], i = n.string.gsub(i, t[0], t[1]);
				return i = n.string.gsub(i, /_id$/, ""), i = n.string.gsub(i, /_/, " "), n.string.capitalize(i, !0)
			}, r.titleize = function (e) {
				var t;
				return t = r.humanize(r.underscore(e)), t = n.string.gsub(t, /[^a-zA-Z:']/, " "), n.string.capitalize(t)
			}, r.tableize = function (e) {return r.pluralize(r.underscore(e))}, r.classify = function (e) {return r.camelize(r.singularize(n.string.gsub(e, /.*\./, "")))}
		}, {"./inflections": 12, "./util": 15}],
		14: [function (e, t) {
			t.exports = function (e) {
				var t = function (e, t) {String.prototype.__defineGetter__(e, t)}, n = ["__defineGetter__", "__defineSetter__", "__lookupGetter__", "__lookupSetter__", "charAt", "constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf", "charCodeAt", "indexOf", "lastIndexof", "length", "localeCompare", "match", "replace", "search", "slice", "split", "substring", "toLocaleLowerCase", "toLocaleUpperCase", "toLowerCase", "toUpperCase", "trim", "trimLeft", "trimRight", "gsub"];
				Object.keys(e).forEach(function (r) {"inflect" != r && "inflections" != r && (-1 !== n.indexOf(r) ? console.log("warn: You should not override String.prototype." + r) : t(r, function () {return e[r](this)}))})
			}
		}, {}],
		15: [function (e, t) {
			var n = t.exports = {
				array: {
					del: function (e, t) {
						var n = e.indexOf(t);
						return -1 != n ? 0 == n ? e.slice(1) : e.slice(0, n).concat(e.slice(n + 1)) : e
					}, first: function (e) {return e[0]}, last: function (e) {return e[e.length - 1]}
				}, string: {
					gsub: function (e, t, r) {
						var i, s, o, u, a, l, c;
						if (null == t || null == r)return n.string.value(e);
						for (l = "", c = e; c.length > 0;)if (s = c.match(t)) {
							if (l += c.slice(0, s.index), "function" == typeof r)s[1] = s[1] || s[0], l += r(s); else
								if (r.match(/\$[1-9]/)) {
									for (u = s, o = n.array.del(s, void 0); o !== u;)u = o, o = n.array.del(o, void 0);
									for (s[1] = s[1] || s[0], a = r, i = 1; 9 >= i; i++)o[i] && (a = n.string.gsub(a, new RegExp("\\$" + i), o[i]));
									l += a
								} else l += r;
							c = c.slice(s.index + s[0].length)
						} else l += c, c = "";
						return l
					}, upcase: function (e) {
						var t = n.string.gsub(e, /_([a-z])/, function (e) {return "_" + e[1].toUpperCase()});
						return t = n.string.gsub(t, /\/([a-z])/, function (e) {return "/" + e[1].toUpperCase()}), t[0].toUpperCase() + t.substr(1)
					}, capitalize: function (e, t) {
						var r = e.toLowerCase();
						return t || (r = n.string.gsub(r, /\s([a-z])/, function (e) {return " " + e[1].toUpperCase()})), r[0].toUpperCase() + r.substr(1)
					}, downcase: function (e) {
						var t = n.string.gsub(e, /_([A-Z])/, function (e) {return "_" + e[1].toLowerCase()});
						return t = n.string.gsub(t, /\/([A-Z])/, function (e) {return "/" + e[1].toLowerCase()}), t[0].toLowerCase() + t.substr(1)
					}, value: function (e) {return e.substr(0)}
				}
			}
		}, {}],
		16: [function (e, t) {
			function n (e, t) {i.call(this), this.collectionName = e, this.id = t || null}

			var r = e("util"), i = e("events").EventEmitter;
			r.inherits(n, i), t.exports = n
		}, {events: 5, util: 9}]
	}, {}, [1])(1)
});